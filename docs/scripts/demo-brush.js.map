{"version":3,"sources":["webpack:///./demos/demo-brush.js","webpack:///./~/.1.0.7@d3-axis/build/d3-axis.js?d99f","webpack:///./src/charts/brush.js","webpack:///./~/.1.0.4@d3-brush/build/d3-brush.js","webpack:///./~/.1.1.0@d3-drag/build/d3-drag.js","webpack:///./~/.1.1.1@d3-shape/build/d3-shape.js","webpack:///./~/.1.0.5@d3-path/build/d3-path.js","webpack:///./src/charts/helpers/timeAxis.js","webpack:///./test/fixtures/brushChartDataBuilder.js","webpack:///./test/json/brushData.json"],"names":["d3Selection","require","d3TimeFormat","PubSub","brush","dataBuilder","createBrushChart","brushChart","testDataSet","BrushDataBuilder","brushContainer","select","containerWidth","node","getBoundingClientRect","width","dataset","withSimpleData","build","height","onBrush","brushExtent","format","timeFormat","text","classed","datum","call","dateRange","redrawCharts","remove","subscribe","d3Array","d3Axis","d3Brush","d3Ease","d3Scale","d3Shape","d3Time","d3Transition","colorHelper","timeAxisHelper","axisTimeCombinations","module","margin","top","right","bottom","left","data","svg","ease","easeQuadOut","dateLabel","valueLabel","chartWidth","chartHeight","xScale","yScale","xAxis","forceAxisSettings","forcedXTicks","forcedXFormat","chartBrush","handle","tickPadding","gradient","colorGradients","greenBlueGradient","getValue","value","getDate","date","exports","_selection","each","_data","cleanData","cloneData","buildScales","buildAxis","buildSVG","buildGradient","buildBrush","drawArea","drawAxis","drawBrush","drawHandles","minor","major","tick","getXAxisSettings","axisBottom","ticks","tickSize","tickFormat","brushX","extent","on","handleBrush","handleBrushEnded","buildContainerGroups","container","append","attr","metadataGroup","length","selectAll","offset","color","enter","scaleTime","domain","range","scaleLinear","max","map","d","Date","dataToClone","JSON","parse","stringify","area","x","y0","y1","curve","curveBasis","handleFillColor","colorSchemasHuman","britechartsGreySchema","style","s","event","selection","dateExtent","invert","sourceEvent","d0","d1","timeDay","round","floor","transition","target","move","setBrushByPercentages","a","b","x0","x1","setBrushByDates","dateA","dateB","updateHandlers","i","_x","arguments","Array","isArray","forceAxisFormat","timeBenchmarks","singleTickWidth","horizontalTickSpacing","minEntryNumForDayFormat","xTickMinuteFormat","xTickHourFormat","xTickSimpleDayFormat","xTickDayMonthFormat","xTickMonthFormat","xTickYearFormat","formatMap","minute","hour","day","daymonth","month","year","settingsToMajorTickMap","MINUTE_HOUR","timeHour","every","HOUR_DAY","DAY_MONTH","timeMonth","MONTH_YEAR","timeYear","getAxisSettingsFromTimeSpan","timeSpan","ONE_YEAR","ONE_DAY","settings","getMaxNumOfHorizontalTicks","dataPointNumber","ticksForWidth","Math","ceil","min","dataByDate","firstDate","lastDate","dateTimeSpan","split","majorTickValue","minorTickValue","_","jsonSimpleData","config","Klass","defaults","attributes","extend","withPath","path","jsonURL"],"mappings":"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;;;;AAKApF,iBAAQrD,OAAR,GAAkB,UAASyI,EAAT,EAAa;AAC3B,iBAAI,CAACC,UAAUpD,MAAf,EAAuB,OAAOtF,OAAP;AACvBA,uBAAUyI,EAAV;;AAEA,oBAAO,IAAP;AACH,UALD;;AAOA;;;;;;AAMApF,iBAAQ1D,KAAR,GAAgB,UAAS8I,EAAT,EAAa;AACzB,iBAAI,CAACC,UAAUpD,MAAf,EAAuB;AACnB,wBAAO3F,KAAP;AACH;AACDA,qBAAQ8I,EAAR;;AAEA,oBAAO,IAAP;AACH,UAPD;;AASA,gBAAOpF,OAAP;AACH,MAvfD;AAyfH,EArjBD,uJ;;;;;;ACAA;AACA;AACA;AACA;AACA,uCAAsC;AACtC,EAAC,qFAAqF;;AAEtF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,kBAAiB;AACjB,mBAAkB;AAClB,oBAAmB;AACnB,oBAAmB;;AAEnB;AACA;AACA;AACA,0BAAyB,gDAAgD,EAAE;AAC3E,yBAAwB,mCAAmC;AAC3D;;AAEA;AACA;AACA;AACA,0BAAyB,gDAAgD,EAAE;AAC3E,yBAAwB,mCAAmC;AAC3D;;AAEA;AACA;AACA;AACA,wBAAuB,WAAW,EAAE;AACpC,yBAAwB,WAAW;AACnC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAU;AACV;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uCAAsC,eAAe,EAAE;;AAEvD;;AAEA;AACA,qCAAoC,mCAAmC,EAAE;AACzE,sCAAqC,wBAAwB,EAAE;;AAE/D;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0CAAyC,gDAAgD,EAAE;AAC3F,wDAAuD,gCAAgC,EAAE;AACzF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAW;AACX,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mCAAkC,gHAAgH,EAAE;AACpJ,mCAAkC,gGAAgG,EAAE;AACpI,uCAAsC,uGAAuG,EAAE;AAC/I,wCAAuC,uGAAuG,EAAE;AAChJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,qCAAoC,kGAAkG;AACtI;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,wDAAuD;AACvD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,8CAA6C,oBAAoB,EAAE,OAAO;AAC1E;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,wDAAuD;AACvD;AACA;AACA;;AAEA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,UAAU;AAC5B;AACA,yCAAwC;AACxC,yCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA,oCAAmC;AACnC,oCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,sCAAqC;AACrC,sCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kCAAiC;AACjC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,+CAA8C,cAAc;;AAE5D,EAAC;;;;;;;ACtjBD;AACA;AACA;AACA;AACA,uCAAsC;AACtC,EAAC,mDAAmD;;AAEpD;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,4BAA2B,kCAAkC,EAAE;AAC/D;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,uBAAsB,+CAA+C;AACrE;;AAEA;AACA;AACA;AACA;AACA,oBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,0CAAyC,oBAAoB,EAAE,OAAO;AACtE,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,4DAA2D;AAC3D,mDAAkD;AAClD,2DAA0D;AAC1D;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,+CAA8C,cAAc;;AAE5D,EAAC;;;;;;;AC9ND;AACA;AACA;AACA;AACA,uCAAsC;AACtC,EAAC,mCAAmC;;AAEpC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,0BAAyB;AACzB;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,+BAA8B,sEAAsE;AACpG,+BAA8B;AAC9B,2CAA0C;AAC1C;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,0BAAyB,QAAQ;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA,wDAAuD,qCAAqC,EAAE;AAC9F,uDAAsD,+BAA+B,EAAE;;AAEvF;AACA,mDAAkD,OAAO;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,yBAAyB,EAAE;AAC5D,gCAA+B,yBAAyB,EAAE;AAC1D,mCAAkC,yBAAyB,EAAE;AAC7D,mCAAkC,yBAAyB,EAAE;;AAE7D;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,+CAA8C;AAC9C,wDAAuD;AACvD;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,+BAA8B,sEAAsE;AACpG,+BAA8B;AAC9B,+BAA8B,oFAAoF;AAClH,kCAAiC;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,+BAA8B,4BAA4B;AAC1D,+BAA8B,4BAA4B;AAC1D,+BAA8B,4BAA4B,4FAA4F;AACtJ,kCAAiC;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,+BAA8B;AAC9B,+BAA8B;AAC9B,+BAA8B,oFAAoF,0EAA0E;AAC5L,+BAA8B;AAC9B,kCAAiC;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,wDAAuD;AACvD,iDAAgD;AAChD;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,+BAA8B,sEAAsE;AACpG,+BAA8B,4BAA4B;AAC1D,+BAA8B;AAC9B,oCAAmC;AACnC;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,+BAA8B,4BAA4B;AAC1D,+BAA8B,kDAAkD;AAChF,+BAA8B,4BAA4B;AAC1D,oCAAmC;AACnC;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,+BAA8B;AAC9B,+BAA8B;AAC9B,+BAA8B,kGAAkG;AAChI,+BAA8B;AAC9B,oCAAmC;AACnC;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,wDAAuD;AACvD,8CAA6C;AAC7C;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,+BAA8B,sEAAsE;AACpG,+BAA8B;AAC9B,+BAA8B;AAC9B,oCAAmC;AACnC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,+BAA8B,4BAA4B;AAC1D,+BAA8B,kDAAkD;AAChF,+BAA8B,4BAA4B;AAC1D,oCAAmC;AACnC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,+BAA8B;AAC9B,+BAA8B;AAC9B,+BAA8B,kGAAkG;AAChI,+BAA8B;AAC9B,oCAAmC;AACnC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,wDAAuD;AACvD,+DAA8D;AAC9D;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA,kDAAiD;AACjD;AACA,+BAA8B,sEAAsE;AACpG,+BAA8B;AAC9B,+BAA8B,0DAA0D;AACxF,iEAAgE;AAChE;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,2BAA0B,4BAA4B,EAAE;AACxD,0BAAyB,2BAA2B,EAAE;AACtD,2BAA0B,4BAA4B,EAAE;AACxD,kDAAiD,mDAAmD;AACpG;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,iCAAgC,QAAQ;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,WAAW;AACxB;AACA,cAAa,OAAO;AACpB;AACA,kBAAiB,QAAQ;AACzB;AACA,cAAa,WAAW;AACxB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,+BAA8B,sEAAsE;AACpG,+BAA8B;AAC9B;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,kEAAiE,OAAO;AACxE;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAe,OAAO;AACtB,kEAAiE,OAAO;AACxE;AACA;AACA;AACA;AACA;;AAEA,gCAA+B,OAAO;AACtC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iDAAgD,OAAO;AACvD,oBAAmB,OAAO;AAC1B,uBAAsB,OAAO;AAC7B;AACA;AACA;;AAEA;AACA;AACA,oEAAmE,OAAO;AAC1E,6BAA4B,OAAO;AACnC;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2DAA0D,OAAO;AACjE,2BAA0B,OAAO;AACjC;AACA;AACA;AACA;;AAEA;AACA;AACA,mCAAkC,OAAO;AACzC,oCAAmC,OAAO;AAC1C;AACA;AACA;AACA;AACA,sBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,8CAA6C,0BAA0B,EAAE;AACzE;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mDAAkD,0BAA0B,EAAE;AAC9E;AACA;AACA;AACA;;AAEA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,+CAA8C,cAAc;;AAE5D,EAAC;;;;;;;AC34DD;AACA;AACA;AACA;AACA,uCAAsC;AACtC,EAAC,4BAA4B;;AAE7B;AACA;AACA;AACA;;AAEA;AACA;AACA,8BAA6B;AAC7B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;;AAEA,+CAA8C,cAAc;;AAE5D,EAAC;;;;;;;;;;;;;AC5ID,mCAAO,UAASxE,OAAT,EAAkB;AACrB;;AADqB;;AAGrB,SAAMqC,SAAS,mBAAArC,CAAQ,E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AAI6M,IAAI,mBAAA7M,CAAQ,EAAR,CAAR;AAAA,SAEI8M,iBAAiB,mBAAA9M,CAAQ,EAAR,CAFrB;;AAKA,cAASQ,gBAAT,CAA0BuM,MAA1B,EAAiC;AAC7B,cAAKC,KAAL,GAAaxM,gBAAb;;AAEA,cAAKuM,MAAL,GAAcF,EAAEI,QAAF,CAAW,EAAX,EAAeF,MAAf,CAAd;;AAEA,cAAK/L,cAAL,GAAsB,YAAU;AAC5B,iBAAIkM,aAAaL,EAAEM,MAAF,CAAS,EAAT,EAAa,KAAKJ,MAAlB,EAA0BD,cAA1B,CAAjB;;AAEA,oBAAO,IAAI,KAAKE,KAAT,CAAeE,UAAf,CAAP;AACH,UAJD;;AAMA;;;;;AAKA,cAAKE,QAAL,GAAgB,UAASC,IAAT,EAAc;AAC1B,iBAAIH,aAAaL,EAAEM,MAAF,CAAS,EAAT,EAAa,KAAKJ,MAAlB,EAA0B;AACvCO,0BAASD;AAD8B,cAA1B,CAAjB;;AAIA,oBAAO,IAAI,KAAKL,KAAT,CAAeE,UAAf,CAAP;AACH,UAND;;AAQA,cAAKjM,KAAL,GAAa,YAAW;AACpB,oBAAO,KAAK8L,MAAL,CAAY/J,IAAnB;AACH,UAFD;AAGH;;AAED,YAAO;AACHxC,2BAAkBA;AADf,MAAP;AAGH,EAxCD,uJ;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,G","file":"demo-brush.js","sourcesContent":["'use strict';\n\nvar d3Selection = require('d3-selection'),\n    d3TimeFormat = require('d3-time-format'),\n\n    PubSub = require('pubsub-js'),\n\n    brush = require('./../src/charts/brush'),\n    dataBuilder = require('./../test/fixtures/brushChartDataBuilder');\n\n\nfunction createBrushChart() {\n    var brushChart = brush(),\n        testDataSet = new dataBuilder.BrushDataBuilder(),\n        brushContainer = d3Selection.select('.js-brush-chart-container'),\n        containerWidth = brushContainer.node() ? brushContainer.node().getBoundingClientRect().width : false,\n        dataset;\n\n    if (containerWidth) {\n        dataset = testDataSet.withSimpleData().build();\n\n        brushChart\n            .width(containerWidth)\n            .height(125)\n            .onBrush(function(brushExtent) {\n                var format = d3TimeFormat.timeFormat('%m/%d/%Y');\n\n                d3Selection.select('.js-start-date').text(format(brushExtent[0]));\n                d3Selection.select('.js-end-date').text(format(brushExtent[1]));\n\n                d3Selection.select('.js-date-range').classed('is-hidden', false);\n            });\n\n        brushContainer.datum(dataset).call(brushChart);\n\n        brushChart.dateRange([\"9/15/2015\", \"1/25/2016\"])\n    }\n}\n\n// Show charts if container available\nif (d3Selection.select('.js-brush-chart-container').node()){\n    createBrushChart();\n\n    var redrawCharts = function(){\n        d3Selection.select('.brush-chart').remove();\n\n        createBrushChart();\n    };\n\n    // Redraw charts on window resize\n    PubSub.subscribe('resize', redrawCharts);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./demos/demo-brush.js","// https://d3js.org/d3-axis/ Version 1.0.7. Copyright 2017 Mike Bostock.\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.d3 = global.d3 || {})));\n}(this, (function (exports) { 'use strict';\n\nvar slice = Array.prototype.slice;\n\nvar identity = function(x) {\n  return x;\n};\n\nvar top = 1;\nvar right = 2;\nvar bottom = 3;\nvar left = 4;\nvar epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + (x + 0.5) + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + (y + 0.5) + \")\";\n}\n\nfunction center(scale) {\n  var offset = Math.max(0, scale.bandwidth() - 1) / 2; // Adjust for 0.5px offset.\n  if (scale.round()) offset = Math.round(offset);\n  return function(d) {\n    return scale(d) + offset;\n  };\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = range[0] + 0.5,\n        range1 = range[range.length - 1] + 0.5,\n        position = (scale.bandwidth ? center : identity)(scale.copy()),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"#000\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"#000\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"#000\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform(p && isFinite(p = p(d)) ? p : position(d)); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient == right\n            ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H0.5V\" + range1 + \"H\" + k * tickSizeOuter\n            : \"M\" + range0 + \",\" + k * tickSizeOuter + \"V0.5H\" + range1 + \"V\" + k * tickSizeOuter);\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d)); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = slice.call(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : slice.call(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : slice.call(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  return axis;\n}\n\nfunction axisTop(scale) {\n  return axis(top, scale);\n}\n\nfunction axisRight(scale) {\n  return axis(right, scale);\n}\n\nfunction axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nfunction axisLeft(scale) {\n  return axis(left, scale);\n}\n\nexports.axisTop = axisTop;\nexports.axisRight = axisRight;\nexports.axisBottom = axisBottom;\nexports.axisLeft = axisLeft;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.1.0.7@d3-axis/build/d3-axis.js\n// module id = 5\n// module chunks = 0 1 3 5 6","define(function(require) {\n    'use strict';\n\n    const d3Array = require('d3-array');\n    const d3Axis = require('d3-axis');\n    const d3Brush = require('d3-brush');\n    const d3Ease = require('d3-ease');\n    const d3Scale = require('d3-scale');\n    const d3Shape = require('d3-shape');\n    const d3Selection = require('d3-selection');\n    const d3Time = require('d3-time');\n    const d3Transition = require('d3-transition');\n    const d3TimeFormat = require('d3-time-format');\n\n    const colorHelper = require('./helpers/colors');\n    const timeAxisHelper = require('./helpers/timeAxis');\n\n    const {axisTimeCombinations} = require('./helpers/constants');\n\n\n    /**\n     * @typedef BrushChartData\n     * @type {Object[]}\n     * @property {Number} value        Value to chart (required)\n     * @property {Date} date           Date of the value (required)\n     *\n     * @example\n     * [\n     *     {\n     *         value: 1,\n     *         date: '2011-01-06T00:00:00Z'\n     *     },\n     *     {\n     *         value: 2,\n     *         date: '2011-01-07T00:00:00Z'\n     *     }\n     * ]\n     */\n\n    /**\n     * Brush Chart reusable API class that renders a\n     * simple and configurable brush chart.\n     *\n     * @module Brush\n     * @tutorial brush\n     * @requires d3-array, d3-axis, d3-brush, d3-ease, d3-scale, d3-shape, d3-selection, d3-time, d3-time-format\n     *\n     * @example\n     * let brushChart = brush();\n     *\n     * brushChart\n     *     .height(500)\n     *     .width(800);\n     *\n     * d3Selection.select('.css-selector')\n     *     .datum(dataset)\n     *     .call(brushChart);\n     *\n     */\n\n    return function module() {\n\n        let margin = {\n                top: 20,\n                right: 20,\n                bottom: 30,\n                left: 20\n            },\n            width = 960,\n            height = 500,\n            data,\n            svg,\n\n            ease = d3Ease.easeQuadOut,\n\n            dateLabel = 'date',\n            valueLabel = 'value',\n\n            dateRange = [null, null],\n\n            chartWidth, chartHeight,\n            xScale, yScale,\n            xAxis,\n\n            forceAxisSettings = null,\n            forcedXTicks = null,\n            forcedXFormat = null,\n\n            brush,\n            chartBrush,\n            handle,\n\n            tickPadding = 5,\n\n            onBrush = null,\n\n            gradient = colorHelper.colorGradients.greenBlueGradient,\n\n            // extractors\n            getValue = ({value}) => value,\n            getDate = ({date}) => date;\n\n\n        /**\n         * This function creates the graph using the selection as container\n         * @param  {D3Selection} _selection A d3 selection that represents\n         *                                  the container(s) where the chart(s) will be rendered\n         * @param {BrushChartData} _data The data to attach and generate the chart\n         */\n        function exports(_selection){\n            _selection.each(function(_data){\n                chartWidth = width - margin.left - margin.right;\n                chartHeight = height - margin.top - margin.bottom;\n                data = cleanData(cloneData(_data));\n\n                buildScales();\n                buildAxis();\n                buildSVG(this);\n                buildGradient();\n                buildBrush();\n                drawArea();\n                drawAxis();\n                drawBrush();\n                drawHandles();\n            });\n        }\n\n        /**\n         * Creates the d3 x axis, setting orientation\n         * @private\n         */\n        function buildAxis(){\n            let minor, major;\n\n            if (forceAxisSettings === 'custom' && typeof forcedXFormat === 'string') {\n                minor = {\n                    tick: forcedXTicks,\n                    format: d3TimeFormat.timeFormat(forcedXFormat)\n                };\n            } else {\n                ({minor, major} = timeAxisHelper.getXAxisSettings(data, width, forceAxisSettings));\n            }\n\n            xAxis = d3Axis.axisBottom(xScale)\n                .ticks(minor.tick)\n                .tickSize(10, 0)\n                .tickPadding([tickPadding])\n                .tickFormat(minor.format);\n        }\n\n        /**\n         * Creates the brush element and attaches a listener\n         * @return {void}\n         */\n        function buildBrush() {\n            brush = d3Brush.brushX()\n                .extent([[0, 0], [chartWidth, chartHeight]])\n                .on('brush', handleBrush)\n                .on('end', handleBrushEnded);\n        }\n\n        /**\n         * Builds containers for the chart, the axis and a wrapper for all of them\n         * Also applies the Margin convention\n         * @private\n         */\n        function buildContainerGroups(){\n            let container = svg\n              .append('g')\n                .classed('container-group', true)\n                .attr('transform', `translate(${margin.left}, ${margin.top})`);\n\n            container\n              .append('g')\n                .classed('chart-group', true);\n            container\n              .append('g')\n                .classed('metadata-group', true);\n            container\n              .append('g')\n                .classed('x-axis-group', true);\n            container\n              .append('g')\n                .classed('brush-group', true);\n        }\n\n        /**\n         * Creates the gradient on the area\n         * @return {void}\n         */\n        function buildGradient() {\n            let metadataGroup = svg.select('.metadata-group');\n\n            metadataGroup.append('linearGradient')\n                .attr('id', 'brush-area-gradient')\n                .attr('gradientUnits', 'userSpaceOnUse')\n                .attr('x1', 0)\n                .attr('x2', xScale(data[data.length - 1].date))\n                .attr('y1', 0)\n                .attr('y2', 0)\n              .selectAll('stop')\n                .data([\n                    {offset: '0%', color: gradient[0]},\n                    {offset: '100%', color: gradient[1]}\n                ])\n              .enter().append('stop')\n                .attr('offset', ({offset}) => offset)\n                .attr('stop-color', ({color}) => color);\n        }\n\n        /**\n         * Creates the x and y scales of the graph\n         * @private\n         */\n        function buildScales(){\n            xScale = d3Scale.scaleTime()\n                .domain(d3Array.extent(data, getDate ))\n                .range([0, chartWidth]);\n\n            yScale = d3Scale.scaleLinear()\n                .domain([0, d3Array.max(data, getValue)])\n                .range([chartHeight, 0]);\n        }\n\n        /**\n         * Builds the SVG element that will contain the chart\n         * @param  {HTMLElement} container DOM element that will work as the container of the graph\n         * @private\n         */\n        function buildSVG(container){\n            if (!svg) {\n                svg = d3Selection.select(container)\n                  .append('svg')\n                    .classed('britechart brush-chart', true);\n\n                buildContainerGroups();\n            }\n\n            svg\n                .attr('width', width)\n                .attr('height', height);\n        }\n\n        /**\n         * Cleaning data adding the proper format\n         *\n         * @param  {BrushChartData} data Data\n         */\n        function cleanData(data) {\n            return data.map(function (d) {\n                d.date = new Date(d[dateLabel]);\n                d.value = +d[valueLabel];\n\n                return d;\n            });\n        }\n\n        /**\n         * Clones the passed array of data\n         * @param  {Object[]} dataToClone Data to clone\n         * @return {Object[]}             Cloned data\n         */\n        function cloneData(dataToClone) {\n            return JSON.parse(JSON.stringify(dataToClone));\n        }\n\n        /**\n         * Draws the x axis on the svg object within its group\n         *\n         * @private\n         */\n        function drawAxis(){\n            svg.select('.x-axis-group')\n              .append('g')\n                .attr('class', 'x axis')\n                .attr('transform', `translate(0, ${chartHeight})`)\n                .call(xAxis);\n        }\n\n        /**\n         * Draws the area that is going to represent the data\n         *\n         * @return {void}\n         */\n        function drawArea() {\n            // Create and configure the area generator\n            let area = d3Shape.area()\n                .x(({date}) => xScale(date))\n                .y0(chartHeight)\n                .y1(({value}) => yScale(value))\n                .curve(d3Shape.curveBasis);\n\n            // Create the area path\n            svg.select('.chart-group')\n              .append('path')\n                .datum(data)\n                .attr('class', 'brush-area')\n                .attr('d', area);\n        }\n\n        /**\n         * Draws the Brush components on its group\n         * @return {void}\n         */\n        function drawBrush() {\n            chartBrush = svg.select('.brush-group')\n                                .call(brush);\n\n            // Update the height of the brushing rectangle\n            chartBrush.selectAll('rect')\n                .classed('brush-rect', true)\n                .attr('height', chartHeight);\n        }\n\n        /**\n         * Draws a handle for the Brush section\n         * @return {void}\n         */\n        function drawHandles() {\n            let handleFillColor = colorHelper.colorSchemasHuman.britechartsGreySchema[1];\n\n            // Styling\n            handle = chartBrush\n                        .selectAll('.handle.brush-rect')\n                        .style('fill', handleFillColor);\n        }\n\n        /**\n         * When a brush event happens, we can extract info from the extension\n         * of the brush.\n         *\n         * @return {void}\n         */\n        function handleBrush() {\n            let s = d3Selection.event.selection,\n                dateExtent = s.map(xScale.invert);\n\n            if (typeof onBrush === 'function') {\n                onBrush.call(null, dateExtent);\n            }\n\n            // updateHandlers(dateExtent);\n        }\n\n        /**\n         * Processes the end brush event, snapping the boundaries to days\n         * as showed on the example on https://bl.ocks.org/mbostock/6232537\n         * @return {void}\n         * @private\n         */\n        function handleBrushEnded() {\n            if (!d3Selection.event.sourceEvent) return; // Only transition after input.\n            if (!d3Selection.event.selection) return; // Ignore empty selections.\n\n            let d0 = d3Selection.event.selection.map(xScale.invert),\n                d1 = d0.map(d3Time.timeDay.round);\n\n            // If empty when rounded, use floor & ceil instead.\n            if (d1[0] >= d1[1]) {\n                d1[0] = d3Time.timeDay.floor(d0[0]);\n                d1[1] = d3Time.timeDay.offset(d1[0]);\n            }\n\n            d3Selection.select(this)\n                .transition()\n                .call(d3Selection.event.target.move, d1.map(xScale));\n        }\n\n        /**\n         * Sets a new brush extent within the passed percentage positions\n         * @param {Number} a Percentage of data that the brush start with\n         * @param {Number} b Percentage of data that the brush ends with\n         * @example\n         *     setBrushByPercentages(0.25, 0.5)\n         */\n        function setBrushByPercentages(a, b) {\n            let x0 = a * chartWidth,\n                x1 = b * chartWidth;\n\n            brush\n                .move(chartBrush, [x0, x1]);\n        }\n\n        /**\n         * Sets a new brush extent within the passed dates\n         * @param {String | Date} dateA Initial Date\n         * @param {String | Date} dateB End Date\n         */\n        function setBrushByDates(dateA, dateB) {\n            let x0 = xScale(new Date(dateA)),\n                x1 = xScale(new Date(dateB));\n\n            brush\n                .move(chartBrush, [x0, x1]);\n        }\n\n        /**\n         * Updates visibility and position of the brush handlers\n         * @param  {Number[]} dateExtent Date range\n         * @return {void}\n         */\n        function updateHandlers(dateExtent) {\n            if (dateExtent == null) {\n                handle.attr('display', 'none');\n            } else {\n                handle\n                    .attr('display', null)\n                    .attr('transform', function(d, i) {\n                        return `translate(${dateExtent[i]},${chartHeight / 2})`;\n                    });\n            }\n        }\n\n        // API\n\n        /**\n         * Gets or Sets the dateRange for the selected part of the brush\n         * @param  {String[]} _x Desired dateRange for the graph\n         * @return { dateRange | module} Current dateRange or Chart module to chain calls\n         * @public\n         */\n        exports.dateRange = function(_x) {\n            if (!arguments.length) {\n                return dateRange;\n            }\n            dateRange = _x;\n\n            if (Array.isArray(dateRange)) {\n                setBrushByDates(...dateRange);\n            }\n\n            return this;\n        };\n\n        /**\n         * Exposes the ability to force the chart to show a certain x axis grouping\n         * @param  {String} _x Desired format\n         * @return { (String|Module) }    Current format or module to chain calls\n         * @example\n         *     brush.forceAxisFormat(brush.axisTimeCombinations.HOUR_DAY)\n         */\n        exports.forceAxisFormat = function(_x) {\n            if (!arguments.length) {\n              return forceAxisSettings;\n            }\n            forceAxisSettings = _x;\n\n            return this;\n        };\n\n        /**\n         * Exposes the ability to force the chart to show a certain x format\n         * It requires a `forceAxisFormat` of 'custom' in order to work.\n         * @param  {String} _x              Desired format for x axis\n         * @return { (String|Module) }      Current format or module to chain calls\n         */\n        exports.forcedXFormat = function(_x) {\n            if (!arguments.length) {\n              return forcedXFormat;\n            }\n            forcedXFormat = _x;\n\n            return this;\n        };\n\n        /**\n         * Exposes the ability to force the chart to show a certain x ticks. It requires a `forceAxisFormat` of 'custom' in order to work.\n         * NOTE: This value needs to be a multiple of 2, 5 or 10. They won't always work as expected, as D3 decides at the end\n         * how many and where the ticks will appear.\n         *\n         * @param  {Number} _x              Desired number of x axis ticks (multiple of 2, 5 or 10)\n         * @return { (Number|Module) }      Current number or ticks or module to chain calls\n         */\n        exports.forcedXTicks = function(_x) {\n            if (!arguments.length) {\n              return forcedXTicks;\n            }\n            forcedXTicks = _x;\n\n            return this;\n        };\n\n        /**\n         * Exposes the constants to be used to force the x axis to respect a certain granularity\n         * current options: MINUTE_HOUR, HOUR_DAY, DAY_MONTH, MONTH_YEAR\n         * @example\n         *     brush.forceAxisFormat(brush.axisTimeCombinations.HOUR_DAY)\n         */\n        exports.axisTimeCombinations = axisTimeCombinations;\n\n        /**\n         * Gets or Sets the gradient of the chart\n         * @param  {String[]} _x Desired gradient for the graph\n         * @return { gradient | module} Current gradient or Chart module to chain calls\n         * @public\n         */\n        exports.gradient = function(_x) {\n            if (!arguments.length) {\n                return gradient;\n            }\n            gradient = _x;\n\n            return this;\n        };\n\n        /**\n         * Gets or Sets the height of the chart\n         * @param  {number} _x Desired width for the graph\n         * @return { height | module} Current height or Chart module to chain calls\n         * @public\n         */\n        exports.height = function(_x) {\n            if (!arguments.length) {\n                return height;\n            }\n            height = _x;\n\n            return this;\n        };\n\n        /**\n         * Gets or Sets the margin of the chart\n         * @param  {object} _x Margin object to get/set\n         * @return { margin | module} Current margin or Chart module to chain calls\n         * @public\n         */\n        exports.margin = function(_x) {\n            if (!arguments.length) {\n                return margin;\n            }\n            margin = _x;\n\n            return this;\n        };\n\n        /**\n         * Gets or Sets the callback that will be called when the user brushes over the area\n         * @param  {Function} _x Callback to call\n         * @return {Function | module}    Current callback function or the Chart Module\n         */\n        exports.onBrush = function(_x) {\n            if (!arguments.length) return onBrush;\n            onBrush = _x;\n\n            return this;\n        };\n\n        /**\n         * Gets or Sets the width of the chart\n         * @param  {number} _x Desired width for the graph\n         * @return { width | module} Current width or Chart module to chain calls\n         * @public\n         */\n        exports.width = function(_x) {\n            if (!arguments.length) {\n                return width;\n            }\n            width = _x;\n\n            return this;\n        };\n\n        return exports;\n    };\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/charts/brush.js","// https://d3js.org/d3-brush/ Version 1.0.4. Copyright 2017 Mike Bostock.\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-dispatch'), require('d3-drag'), require('d3-interpolate'), require('d3-selection'), require('d3-transition')) :\n\ttypeof define === 'function' && define.amd ? define(['exports', 'd3-dispatch', 'd3-drag', 'd3-interpolate', 'd3-selection', 'd3-transition'], factory) :\n\t(factory((global.d3 = global.d3 || {}),global.d3,global.d3,global.d3,global.d3,global.d3));\n}(this, (function (exports,d3Dispatch,d3Drag,d3Interpolate,d3Selection,d3Transition) { 'use strict';\n\nvar constant = function(x) {\n  return function() {\n    return x;\n  };\n};\n\nvar BrushEvent = function(target, type, selection) {\n  this.target = target;\n  this.type = type;\n  this.selection = selection;\n};\n\nfunction nopropagation() {\n  d3Selection.event.stopImmediatePropagation();\n}\n\nvar noevent = function() {\n  d3Selection.event.preventDefault();\n  d3Selection.event.stopImmediatePropagation();\n};\n\nvar MODE_DRAG = {name: \"drag\"};\nvar MODE_SPACE = {name: \"space\"};\nvar MODE_HANDLE = {name: \"handle\"};\nvar MODE_CENTER = {name: \"center\"};\n\nvar X = {\n  name: \"x\",\n  handles: [\"e\", \"w\"].map(type),\n  input: function(x, e) { return x && [[x[0], e[0][1]], [x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y && [[e[0][0], y[0]], [e[1][0], y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"e\", \"s\", \"w\", \"nw\", \"ne\", \"se\", \"sw\"].map(type),\n  input: function(xy) { return xy; },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !d3Selection.event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\n// Like d3.local, but with the name “__brush” rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nfunction brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nfunction brushX() {\n  return brush$1(X);\n}\n\nfunction brushY() {\n  return brush$1(Y);\n}\n\nvar brush = function() {\n  return brush$1(XY);\n};\n\nfunction brush$1(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      listeners = d3Dispatch.dispatch(brush, \"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          d3Selection.select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\")\n        .on(\"mousedown.brush touchstart.brush\", started);\n  }\n\n  brush.move = function(group, selection) {\n    if (group.selection) {\n      group\n          .on(\"start.brush\", function() { emitter(this, arguments).beforestart().start(); })\n          .on(\"interrupt.brush end.brush\", function() { emitter(this, arguments).end(); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = d3Interpolate.interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && empty(selection1) ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 && selection1 ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            d3Transition.interrupt(that);\n            state.selection = selection1 == null || empty(selection1) ? null : selection1;\n            redraw.call(that);\n            emit.start().brush().end();\n          });\n    }\n  };\n\n  function redraw() {\n    var group = d3Selection.select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args) {\n    return that.__brush.emitter || new Emitter(that, args);\n  }\n\n  function Emitter(that, args) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function() {\n      if (this.starting) this.starting = false, this.emit(\"start\");\n      return this;\n    },\n    brush: function() {\n      this.emit(\"brush\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\");\n      return this;\n    },\n    emit: function(type) {\n      d3Selection.customEvent(new BrushEvent(brush, type, dim.output(this.state.selection)), listeners.apply, listeners, [type, this.that, this.args]);\n    }\n  };\n\n  function started() {\n    if (d3Selection.event.touches) { if (d3Selection.event.changedTouches.length < d3Selection.event.touches.length) return noevent(); }\n    else if (touchending) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = d3Selection.event.target.__data__.type,\n        mode = (d3Selection.event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (d3Selection.event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx,\n        dy,\n        moving,\n        shifting = signX && signY && d3Selection.event.shiftKey,\n        lockX,\n        lockY,\n        point0 = d3Selection.mouse(that),\n        point = point0,\n        emit = emitter(that, arguments).beforestart();\n\n    if (type === \"overlay\") {\n      state.selection = selection = [\n        [w0 = dim === Y ? W : point0[0], n0 = dim === X ? N : point0[1]],\n        [e0 = dim === Y ? E : w0, s0 = dim === X ? S : n0]\n      ];\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = d3Selection.select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (d3Selection.event.touches) {\n      group\n          .on(\"touchmove.brush\", moved, true)\n          .on(\"touchend.brush touchcancel.brush\", ended, true);\n    } else {\n      var view = d3Selection.select(d3Selection.event.view)\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n\n      d3Drag.dragDisable(d3Selection.event.view);\n    }\n\n    nopropagation();\n    d3Transition.interrupt(that);\n    redraw.call(that);\n    emit.start();\n\n    function moved() {\n      var point1 = d3Selection.mouse(that);\n      if (shifting && !lockX && !lockY) {\n        if (Math.abs(point1[0] - point[0]) > Math.abs(point1[1] - point[1])) lockY = true;\n        else lockX = true;\n      }\n      point = point1;\n      moving = true;\n      noevent();\n      move();\n    }\n\n    function move() {\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = Math.max(W - w0, Math.min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = Math.max(N - n0, Math.min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (signX < 0) dx = Math.max(W - w0, Math.min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n          else if (signX > 0) dx = Math.max(W - e0, Math.min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n          if (signY < 0) dy = Math.max(N - n0, Math.min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n          else if (signY > 0) dy = Math.max(N - s0, Math.min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = Math.max(W, Math.min(E, w0 - dx * signX)), e1 = Math.max(W, Math.min(E, e0 + dx * signX));\n          if (signY) n1 = Math.max(N, Math.min(S, n0 - dy * signY)), s1 = Math.max(N, Math.min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush();\n      }\n    }\n\n    function ended() {\n      nopropagation();\n      if (d3Selection.event.touches) {\n        if (d3Selection.event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n        group.on(\"touchmove.brush touchend.brush touchcancel.brush\", null);\n      } else {\n        d3Drag.dragEnable(d3Selection.event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end();\n    }\n\n    function keydowned() {\n      switch (d3Selection.event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent();\n    }\n\n    function keyupped() {\n      switch (d3Selection.event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move();\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (d3Selection.event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent();\n    }\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = extent.apply(this, arguments);\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n\nexports.brush = brush;\nexports.brushX = brushX;\nexports.brushY = brushY;\nexports.brushSelection = brushSelection;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.1.0.4@d3-brush/build/d3-brush.js\n// module id = 30\n// module chunks = 1 3","// https://d3js.org/d3-drag/ Version 1.1.0. Copyright 2017 Mike Bostock.\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-dispatch'), require('d3-selection')) :\n\ttypeof define === 'function' && define.amd ? define(['exports', 'd3-dispatch', 'd3-selection'], factory) :\n\t(factory((global.d3 = global.d3 || {}),global.d3,global.d3));\n}(this, (function (exports,d3Dispatch,d3Selection) { 'use strict';\n\nfunction nopropagation() {\n  d3Selection.event.stopImmediatePropagation();\n}\n\nvar noevent = function() {\n  d3Selection.event.preventDefault();\n  d3Selection.event.stopImmediatePropagation();\n};\n\nvar nodrag = function(view) {\n  var root = view.document.documentElement,\n      selection = d3Selection.select(view).on(\"dragstart.drag\", noevent, true);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, true);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n};\n\nfunction yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = d3Selection.select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, true);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n\nvar constant = function(x) {\n  return function() {\n    return x;\n  };\n};\n\nfunction DragEvent(target, type, subject, id, active, x, y, dx, dy, dispatch$$1) {\n  this.target = target;\n  this.type = type;\n  this.subject = subject;\n  this.identifier = id;\n  this.active = active;\n  this.x = x;\n  this.y = y;\n  this.dx = dx;\n  this.dy = dy;\n  this._ = dispatch$$1;\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !d3Selection.event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(d) {\n  return d == null ? {x: d3Selection.event.x, y: d3Selection.event.y} : d;\n}\n\nvar drag = function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      gestures = {},\n      listeners = d3Dispatch.dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned() {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var gesture = beforestart(\"mouse\", container.apply(this, arguments), d3Selection.mouse, this, arguments);\n    if (!gesture) return;\n    d3Selection.select(d3Selection.event.view).on(\"mousemove.drag\", mousemoved, true).on(\"mouseup.drag\", mouseupped, true);\n    nodrag(d3Selection.event.view);\n    nopropagation();\n    mousemoving = false;\n    mousedownx = d3Selection.event.clientX;\n    mousedowny = d3Selection.event.clientY;\n    gesture(\"start\");\n  }\n\n  function mousemoved() {\n    noevent();\n    if (!mousemoving) {\n      var dx = d3Selection.event.clientX - mousedownx, dy = d3Selection.event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\");\n  }\n\n  function mouseupped() {\n    d3Selection.select(d3Selection.event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(d3Selection.event.view, mousemoving);\n    noevent();\n    gestures.mouse(\"end\");\n  }\n\n  function touchstarted() {\n    if (!filter.apply(this, arguments)) return;\n    var touches = d3Selection.event.changedTouches,\n        c = container.apply(this, arguments),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(touches[i].identifier, c, d3Selection.touch, this, arguments)) {\n        nopropagation();\n        gesture(\"start\");\n      }\n    }\n  }\n\n  function touchmoved() {\n    var touches = d3Selection.event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent();\n        gesture(\"drag\");\n      }\n    }\n  }\n\n  function touchended() {\n    var touches = d3Selection.event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation();\n        gesture(\"end\");\n      }\n    }\n  }\n\n  function beforestart(id, container, point, that, args) {\n    var p = point(container, id), s, dx, dy,\n        sublisteners = listeners.copy();\n\n    if (!d3Selection.customEvent(new DragEvent(drag, \"beforestart\", s, id, active, p[0], p[1], 0, 0, sublisteners), function() {\n      if ((d3Selection.event.subject = s = subject.apply(that, args)) == null) return false;\n      dx = s.x - p[0] || 0;\n      dy = s.y - p[1] || 0;\n      return true;\n    })) return;\n\n    return function gesture(type) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[id] = gesture, n = active++; break;\n        case \"end\": delete gestures[id], --active; // nobreak\n        case \"drag\": p = point(container, id), n = active; break;\n      }\n      d3Selection.customEvent(new DragEvent(drag, type, s, id, n, p[0] + dx, p[1] + dy, p[0] - p0[0], p[1] - p0[1], sublisteners), sublisteners.apply, sublisteners, [type, that, args]);\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n};\n\nexports.drag = drag;\nexports.dragDisable = nodrag;\nexports.dragEnable = yesdrag;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.1.1.0@d3-drag/build/d3-drag.js\n// module id = 31\n// module chunks = 1 3","// https://d3js.org/d3-shape/ Version 1.1.1. Copyright 2017 Mike Bostock.\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-path')) :\n\ttypeof define === 'function' && define.amd ? define(['exports', 'd3-path'], factory) :\n\t(factory((global.d3 = global.d3 || {}),global.d3));\n}(this, (function (exports,d3Path) { 'use strict';\n\nvar constant = function(x) {\n  return function constant() {\n    return x;\n  };\n};\n\nvar abs = Math.abs;\nvar atan2 = Math.atan2;\nvar cos = Math.cos;\nvar max = Math.max;\nvar min = Math.min;\nvar sin = Math.sin;\nvar sqrt = Math.sqrt;\n\nvar epsilon = 1e-12;\nvar pi = Math.PI;\nvar halfPi = pi / 2;\nvar tau = 2 * pi;\n\nfunction acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nfunction asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / (y32 * x10 - x32 * y10);\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nvar arc = function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = d3Path.path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1 ≥ r0, da1 ≥ da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00);\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi) {\n          var oc = da0 > epsilon ? intersect(x01, y01, x00, y00, x11, y11, x10, y10) : [x10, y10],\n              ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sector’s outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and it’s a circular sector?\n      // Or perhaps it’s an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sector’s inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n};\n\nfunction Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nvar curveLinear = function(context) {\n  return new Linear(context);\n};\n\nfunction x(p) {\n  return p[0];\n}\n\nfunction y(p) {\n  return p[1];\n}\n\nvar line = function() {\n  var x$$1 = x,\n      y$$1 = y,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = d3Path.path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x$$1(d, i, data), +y$$1(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x$$1 = typeof _ === \"function\" ? _ : constant(+_), line) : x$$1;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y$$1 = typeof _ === \"function\" ? _ : constant(+_), line) : y$$1;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n};\n\nvar area = function() {\n  var x0 = x,\n      x1 = null,\n      y0 = constant(0),\n      y1 = y,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = d3Path.path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n};\n\nvar descending = function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n};\n\nvar identity = function(d) {\n  return d;\n};\n\nvar pie = function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = data.length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n};\n\nvar curveRadialLinear = curveRadial(curveLinear);\n\nfunction Radial(curve) {\n  this._curve = curve;\n}\n\nRadial.prototype = {\n  areaStart: function() {\n    this._curve.areaStart();\n  },\n  areaEnd: function() {\n    this._curve.areaEnd();\n  },\n  lineStart: function() {\n    this._curve.lineStart();\n  },\n  lineEnd: function() {\n    this._curve.lineEnd();\n  },\n  point: function(a, r) {\n    this._curve.point(r * Math.sin(a), r * -Math.cos(a));\n  }\n};\n\nfunction curveRadial(curve) {\n\n  function radial(context) {\n    return new Radial(curve(context));\n  }\n\n  radial._curve = curve;\n\n  return radial;\n}\n\nfunction radialLine(l) {\n  var c = l.curve;\n\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n\n  l.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return l;\n}\n\nvar radialLine$1 = function() {\n  return radialLine(line().curve(curveRadialLinear));\n};\n\nvar radialArea = function() {\n  var a = area().curve(curveRadialLinear),\n      c = a.curve,\n      x0 = a.lineX0,\n      x1 = a.lineX1,\n      y0 = a.lineY0,\n      y1 = a.lineY1;\n\n  a.angle = a.x, delete a.x;\n  a.startAngle = a.x0, delete a.x0;\n  a.endAngle = a.x1, delete a.x1;\n  a.radius = a.y, delete a.y;\n  a.innerRadius = a.y0, delete a.y0;\n  a.outerRadius = a.y1, delete a.y1;\n  a.lineStartAngle = function() { return radialLine(x0()); }, delete a.lineX0;\n  a.lineEndAngle = function() { return radialLine(x1()); }, delete a.lineX1;\n  a.lineInnerRadius = function() { return radialLine(y0()); }, delete a.lineY0;\n  a.lineOuterRadius = function() { return radialLine(y1()); }, delete a.lineY1;\n\n  a.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return a;\n};\n\nvar slice = Array.prototype.slice;\n\nvar radialPoint = function(x, y) {\n  return [(y = +y) * Math.cos(x -= Math.PI / 2), y * Math.sin(x)];\n};\n\nfunction linkSource(d) {\n  return d.source;\n}\n\nfunction linkTarget(d) {\n  return d.target;\n}\n\nfunction link(curve) {\n  var source = linkSource,\n      target = linkTarget,\n      x$$1 = x,\n      y$$1 = y,\n      context = null;\n\n  function link() {\n    var buffer, argv = slice.call(arguments), s = source.apply(this, argv), t = target.apply(this, argv);\n    if (!context) context = buffer = d3Path.path();\n    curve(context, +x$$1.apply(this, (argv[0] = s, argv)), +y$$1.apply(this, argv), +x$$1.apply(this, (argv[0] = t, argv)), +y$$1.apply(this, argv));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  link.source = function(_) {\n    return arguments.length ? (source = _, link) : source;\n  };\n\n  link.target = function(_) {\n    return arguments.length ? (target = _, link) : target;\n  };\n\n  link.x = function(_) {\n    return arguments.length ? (x$$1 = typeof _ === \"function\" ? _ : constant(+_), link) : x$$1;\n  };\n\n  link.y = function(_) {\n    return arguments.length ? (y$$1 = typeof _ === \"function\" ? _ : constant(+_), link) : y$$1;\n  };\n\n  link.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), link) : context;\n  };\n\n  return link;\n}\n\nfunction curveHorizontal(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0 = (x0 + x1) / 2, y0, x0, y1, x1, y1);\n}\n\nfunction curveVertical(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0, y0 = (y0 + y1) / 2, x1, y0, x1, y1);\n}\n\nfunction curveRadial$1(context, x0, y0, x1, y1) {\n  var p0 = radialPoint(x0, y0),\n      p1 = radialPoint(x0, y0 = (y0 + y1) / 2),\n      p2 = radialPoint(x1, y0),\n      p3 = radialPoint(x1, y1);\n  context.moveTo(p0[0], p0[1]);\n  context.bezierCurveTo(p1[0], p1[1], p2[0], p2[1], p3[0], p3[1]);\n}\n\nfunction linkHorizontal() {\n  return link(curveHorizontal);\n}\n\nfunction linkVertical() {\n  return link(curveVertical);\n}\n\nfunction linkRadial() {\n  var l = link(curveRadial$1);\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n  return l;\n}\n\nvar circle = {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / pi);\n    context.moveTo(r, 0);\n    context.arc(0, 0, r, 0, tau);\n  }\n};\n\nvar cross = {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / 5) / 2;\n    context.moveTo(-3 * r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, -3 * r);\n    context.lineTo(r, -3 * r);\n    context.lineTo(r, -r);\n    context.lineTo(3 * r, -r);\n    context.lineTo(3 * r, r);\n    context.lineTo(r, r);\n    context.lineTo(r, 3 * r);\n    context.lineTo(-r, 3 * r);\n    context.lineTo(-r, r);\n    context.lineTo(-3 * r, r);\n    context.closePath();\n  }\n};\n\nvar tan30 = Math.sqrt(1 / 3);\nvar tan30_2 = tan30 * 2;\n\nvar diamond = {\n  draw: function(context, size) {\n    var y = Math.sqrt(size / tan30_2),\n        x = y * tan30;\n    context.moveTo(0, -y);\n    context.lineTo(x, 0);\n    context.lineTo(0, y);\n    context.lineTo(-x, 0);\n    context.closePath();\n  }\n};\n\nvar ka = 0.89081309152928522810;\nvar kr = Math.sin(pi / 10) / Math.sin(7 * pi / 10);\nvar kx = Math.sin(tau / 10) * kr;\nvar ky = -Math.cos(tau / 10) * kr;\n\nvar star = {\n  draw: function(context, size) {\n    var r = Math.sqrt(size * ka),\n        x = kx * r,\n        y = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x, y);\n    for (var i = 1; i < 5; ++i) {\n      var a = tau * i / 5,\n          c = Math.cos(a),\n          s = Math.sin(a);\n      context.lineTo(s * r, -c * r);\n      context.lineTo(c * x - s * y, s * x + c * y);\n    }\n    context.closePath();\n  }\n};\n\nvar square = {\n  draw: function(context, size) {\n    var w = Math.sqrt(size),\n        x = -w / 2;\n    context.rect(x, x, w, w);\n  }\n};\n\nvar sqrt3 = Math.sqrt(3);\n\nvar triangle = {\n  draw: function(context, size) {\n    var y = -Math.sqrt(size / (sqrt3 * 3));\n    context.moveTo(0, y * 2);\n    context.lineTo(-sqrt3 * y, -y);\n    context.lineTo(sqrt3 * y, -y);\n    context.closePath();\n  }\n};\n\nvar c = -0.5;\nvar s = Math.sqrt(3) / 2;\nvar k = 1 / Math.sqrt(12);\nvar a = (k / 2 + 1) * 3;\n\nvar wye = {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / a),\n        x0 = r / 2,\n        y0 = r * k,\n        x1 = x0,\n        y1 = r * k + r,\n        x2 = -x1,\n        y2 = y1;\n    context.moveTo(x0, y0);\n    context.lineTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n    context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n    context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n    context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n    context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n    context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n    context.closePath();\n  }\n};\n\nvar symbols = [\n  circle,\n  cross,\n  diamond,\n  square,\n  star,\n  triangle,\n  wye\n];\n\nvar symbol = function() {\n  var type = constant(circle),\n      size = constant(64),\n      context = null;\n\n  function symbol() {\n    var buffer;\n    if (!context) context = buffer = d3Path.path();\n    type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  symbol.type = function(_) {\n    return arguments.length ? (type = typeof _ === \"function\" ? _ : constant(_), symbol) : type;\n  };\n\n  symbol.size = function(_) {\n    return arguments.length ? (size = typeof _ === \"function\" ? _ : constant(+_), symbol) : size;\n  };\n\n  symbol.context = function(_) {\n    return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n  };\n\n  return symbol;\n};\n\nvar noop = function() {};\n\nfunction point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nfunction Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nvar basis = function(context) {\n  return new Basis(context);\n};\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x2, this._y2);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x2, this._y2);\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x2 = x, this._y2 = y; break;\n      case 1: this._point = 2; this._x3 = x, this._y3 = y; break;\n      case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nvar basisClosed = function(context) {\n  return new BasisClosed(context);\n};\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nvar basisOpen = function(context) {\n  return new BasisOpen(context);\n};\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nvar bundle = ((function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n}))(0.85);\n\nfunction point$1(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nfunction Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point$1(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // proceed\n      default: point$1(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar cardinal = ((function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n}))(0);\n\nfunction CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point$1(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar cardinalClosed = ((function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n}))(0);\n\nfunction CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point$1(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar cardinalOpen = ((function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n}))(0);\n\nfunction point$2(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // proceed\n      default: point$2(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar catmullRom = ((function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n}))(0.5);\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point$2(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar catmullRomClosed = ((function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n}))(0.5);\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point$2(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar catmullRomOpen = ((function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n}))(0.5);\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nvar linearClosed = function(context) {\n  return new LinearClosed(context);\n};\n\nfunction sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bézier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point$3(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point$3(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point$3(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point$3(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n};\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nfunction monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nfunction monotoneY(context) {\n  return new MonotoneY(context);\n}\n\nfunction Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nvar natural = function(context) {\n  return new Natural(context);\n};\n\nfunction Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nvar step = function(context) {\n  return new Step(context, 0.5);\n};\n\nfunction stepBefore(context) {\n  return new Step(context, 0);\n}\n\nfunction stepAfter(context) {\n  return new Step(context, 1);\n}\n\nvar none = function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n};\n\nvar none$1 = function(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n};\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nvar stack = function() {\n  var keys = constant([]),\n      order = none$1,\n      offset = none,\n      value = stackValue;\n\n  function stack(data) {\n    var kz = keys.apply(this, arguments),\n        i,\n        m = data.length,\n        n = kz.length,\n        sz = new Array(n),\n        oz;\n\n    for (i = 0; i < n; ++i) {\n      for (var ki = kz[i], si = sz[i] = new Array(m), j = 0, sij; j < m; ++j) {\n        si[j] = sij = [0, +value(data[j], ki, j, data)];\n        sij.data = data[j];\n      }\n      si.key = ki;\n    }\n\n    for (i = 0, oz = order(sz); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? none$1 : typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? none : _, stack) : offset;\n  };\n\n  return stack;\n};\n\nvar expand = function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, n, j = 0, m = series[0].length, y; j < m; ++j) {\n    for (y = i = 0; i < n; ++i) y += series[i][j][1] || 0;\n    if (y) for (i = 0; i < n; ++i) series[i][j][1] /= y;\n  }\n  none(series, order);\n};\n\nvar diverging = function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i, j = 0, d, dy, yp, yn, n, m = series[order[0]].length; j < m; ++j) {\n    for (yp = yn = 0, i = 0; i < n; ++i) {\n      if ((dy = (d = series[order[i]][j])[1] - d[0]) >= 0) {\n        d[0] = yp, d[1] = yp += dy;\n      } else if (dy < 0) {\n        d[1] = yn, d[0] = yn += dy;\n      } else {\n        d[0] = yp;\n      }\n    }\n  }\n};\n\nvar silhouette = function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var j = 0, s0 = series[order[0]], n, m = s0.length; j < m; ++j) {\n    for (var i = 0, y = 0; i < n; ++i) y += series[i][j][1] || 0;\n    s0[j][1] += s0[j][0] = -y / 2;\n  }\n  none(series, order);\n};\n\nvar wiggle = function(series, order) {\n  if (!((n = series.length) > 0) || !((m = (s0 = series[order[0]]).length) > 0)) return;\n  for (var y = 0, j = 1, s0, m, n; j < m; ++j) {\n    for (var i = 0, s1 = 0, s2 = 0; i < n; ++i) {\n      var si = series[order[i]],\n          sij0 = si[j][1] || 0,\n          sij1 = si[j - 1][1] || 0,\n          s3 = (sij0 - sij1) / 2;\n      for (var k = 0; k < i; ++k) {\n        var sk = series[order[k]],\n            skj0 = sk[j][1] || 0,\n            skj1 = sk[j - 1][1] || 0;\n        s3 += skj0 - skj1;\n      }\n      s1 += sij0, s2 += s3 * sij0;\n    }\n    s0[j - 1][1] += s0[j - 1][0] = y;\n    if (s1) y -= s2 / s1;\n  }\n  s0[j - 1][1] += s0[j - 1][0] = y;\n  none(series, order);\n};\n\nvar ascending = function(series) {\n  var sums = series.map(sum);\n  return none$1(series).sort(function(a, b) { return sums[a] - sums[b]; });\n};\n\nfunction sum(series) {\n  var s = 0, i = -1, n = series.length, v;\n  while (++i < n) if (v = +series[i][1]) s += v;\n  return s;\n}\n\nvar descending$1 = function(series) {\n  return ascending(series).reverse();\n};\n\nvar insideOut = function(series) {\n  var n = series.length,\n      i,\n      j,\n      sums = series.map(sum),\n      order = none$1(series).sort(function(a, b) { return sums[b] - sums[a]; }),\n      top = 0,\n      bottom = 0,\n      tops = [],\n      bottoms = [];\n\n  for (i = 0; i < n; ++i) {\n    j = order[i];\n    if (top < bottom) {\n      top += sums[j];\n      tops.push(j);\n    } else {\n      bottom += sums[j];\n      bottoms.push(j);\n    }\n  }\n\n  return bottoms.reverse().concat(tops);\n};\n\nvar reverse = function(series) {\n  return none$1(series).reverse();\n};\n\nexports.arc = arc;\nexports.area = area;\nexports.line = line;\nexports.pie = pie;\nexports.radialArea = radialArea;\nexports.radialLine = radialLine$1;\nexports.linkHorizontal = linkHorizontal;\nexports.linkVertical = linkVertical;\nexports.linkRadial = linkRadial;\nexports.symbol = symbol;\nexports.symbols = symbols;\nexports.symbolCircle = circle;\nexports.symbolCross = cross;\nexports.symbolDiamond = diamond;\nexports.symbolSquare = square;\nexports.symbolStar = star;\nexports.symbolTriangle = triangle;\nexports.symbolWye = wye;\nexports.curveBasisClosed = basisClosed;\nexports.curveBasisOpen = basisOpen;\nexports.curveBasis = basis;\nexports.curveBundle = bundle;\nexports.curveCardinalClosed = cardinalClosed;\nexports.curveCardinalOpen = cardinalOpen;\nexports.curveCardinal = cardinal;\nexports.curveCatmullRomClosed = catmullRomClosed;\nexports.curveCatmullRomOpen = catmullRomOpen;\nexports.curveCatmullRom = catmullRom;\nexports.curveLinearClosed = linearClosed;\nexports.curveLinear = curveLinear;\nexports.curveMonotoneX = monotoneX;\nexports.curveMonotoneY = monotoneY;\nexports.curveNatural = natural;\nexports.curveStep = step;\nexports.curveStepAfter = stepAfter;\nexports.curveStepBefore = stepBefore;\nexports.stack = stack;\nexports.stackOffsetExpand = expand;\nexports.stackOffsetDiverging = diverging;\nexports.stackOffsetNone = none;\nexports.stackOffsetSilhouette = silhouette;\nexports.stackOffsetWiggle = wiggle;\nexports.stackOrderAscending = ascending;\nexports.stackOrderDescending = descending$1;\nexports.stackOrderInsideOut = insideOut;\nexports.stackOrderNone = none$1;\nexports.stackOrderReverse = reverse;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.1.1.1@d3-shape/build/d3-shape.js\n// module id = 32\n// module chunks = 1 2 3 4 5","// https://d3js.org/d3-path/ Version 1.0.5. Copyright 2017 Mike Bostock.\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.d3 = global.d3 || {})));\n}(this, (function (exports) { 'use strict';\n\nvar pi = Math.PI;\nvar tau = 2 * pi;\nvar epsilon = 1e-6;\nvar tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon)) {}\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexports.path = path;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.1.0.5@d3-path/build/d3-path.js\n// module id = 33\n// module chunks = 1 2 3 4 5","define(function(require) {\n    'use strict';\n\n    const d3Time = require('d3-time');\n    const d3TimeFormat = require('d3-time-format');\n\n    const {\n        axisTimeCombinations,\n        timeBenchmarks\n    } = require('./constants');\n\n\n    const singleTickWidth = 20;\n    const horizontalTickSpacing = 50;\n    const minEntryNumForDayFormat = 5;\n    const xTickMinuteFormat = d3TimeFormat.timeFormat('%M m');\n    const xTickHourFormat = d3TimeFormat.timeFormat('%H %p');\n    const xTickSimpleDayFormat = d3TimeFormat.timeFormat('%e');\n    const xTickDayMonthFormat = d3TimeFormat.timeFormat('%d %b');\n    const xTickMonthFormat = d3TimeFormat.timeFormat('%b');\n    const xTickYearFormat = d3TimeFormat.timeFormat('%Y');\n\n    const formatMap = {\n        minute: xTickMinuteFormat,\n        hour: xTickHourFormat,\n        day: xTickSimpleDayFormat,\n        daymonth: xTickDayMonthFormat,\n        month: xTickMonthFormat,\n        year: xTickYearFormat\n    };\n    const settingsToMajorTickMap = {\n        [axisTimeCombinations.MINUTE_HOUR]: d3Time.timeHour.every(1),\n        [axisTimeCombinations.HOUR_DAY]: d3Time.timeDay.every(1),\n        [axisTimeCombinations.DAY_MONTH]: d3Time.timeMonth.every(1),\n        [axisTimeCombinations.MONTH_YEAR]: d3Time.timeYear.every(1)\n    };\n\n    /**\n     * Figures out the proper settings from the current time span\n     * @param  {Number} timeSpan    Span of time charted by the graph in milliseconds\n     * @return {String}             Type of settings for the given timeSpan\n     */\n    const getAxisSettingsFromTimeSpan = (timeSpan) => {\n        let {\n          ONE_YEAR,\n          ONE_DAY\n        } = timeBenchmarks;\n        let settings;\n\n        if (timeSpan < ONE_DAY) {\n            settings = axisTimeCombinations.HOUR_DAY;\n        } else if (timeSpan < ONE_YEAR) {\n            settings = axisTimeCombinations.DAY_MONTH;\n        } else {\n            settings = axisTimeCombinations.MONTH_YEAR;\n        }\n\n        return settings;\n    }\n\n    /**\n     * Calculates the maximum number of ticks for the x axis\n     * @param  {Number} width Chart width\n     * @param  {Number} dataPointNumber  Number of entries on the data\n     * @return {Number}       Number of ticks to render\n     */\n    const getMaxNumOfHorizontalTicks = (width, dataPointNumber) => {\n        let ticksForWidth = Math.ceil(width / (singleTickWidth + horizontalTickSpacing));\n\n        return dataPointNumber < minEntryNumForDayFormat ? d3Time.timeDay : Math.min(dataPointNumber, ticksForWidth);\n    }\n\n    /**\n     * Returns tick object to be used when building the x axis\n     * @param {dataByDate} dataByDate       Chart data ordered by Date\n     * @param {Number} width                Chart width\n     * @param {String} settings             Optional forced settings for axis\n     * @return {object} tick settings for major and minr axis\n     */\n    const getXAxisSettings = (dataByDate, width, settings = null) => {\n        let firstDate = new Date(dataByDate[0].date);\n        let lastDate = new Date(dataByDate[dataByDate.length - 1].date);\n        let dateTimeSpan = lastDate - firstDate;\n\n        if (!settings) {\n            settings = getAxisSettingsFromTimeSpan(dateTimeSpan);\n        }\n        let [minor, major] = settings.split('-');\n\n        let majorTickValue = settingsToMajorTickMap[settings];\n        let minorTickValue = getMaxNumOfHorizontalTicks(width, dataByDate.length);\n\n        return {\n            minor: {\n              format: formatMap[minor],\n              tick: minorTickValue\n            },\n            major: {\n              format: formatMap[major],\n              tick: majorTickValue\n            }\n        };\n    };\n\n    return {\n        getXAxisSettings\n    }\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/charts/helpers/timeAxis.js","define(function(require) {\n    'use strict';\n\n    var _ = require('underscore'),\n\n        jsonSimpleData = require('json!../json/brushData.json');\n\n\n    function BrushDataBuilder(config){\n        this.Klass = BrushDataBuilder;\n\n        this.config = _.defaults({}, config);\n\n        this.withSimpleData = function(){\n            var attributes = _.extend({}, this.config, jsonSimpleData);\n\n            return new this.Klass(attributes);\n        };\n\n        /**\n         * Sets the path for fetching the data\n         * @param  {String} path Desired path for test data\n         * @return {BrushDataBuilder}      Builder object\n         */\n        this.withPath = function(path){\n            var attributes = _.extend({}, this.config, {\n                jsonURL: path\n            });\n\n            return new this.Klass(attributes);\n        };\n\n        this.build = function() {\n            return this.config.data;\n        };\n    }\n\n    return {\n        BrushDataBuilder: BrushDataBuilder\n    };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./test/fixtures/brushChartDataBuilder.js","module.exports = {\n\t\"data\": [\n\t\t{\n\t\t\t\"date\": \"2015-06-27T07:00:00.000Z\",\n\t\t\t\"value\": 4\n\t\t},\n\t\t{\n\t\t\t\"date\": \"2015-06-28T07:00:00.000Z\",\n\t\t\t\"value\": 12\n\t\t},\n\t\t{\n\t\t\t\"date\": \"2015-06-29T07:00:00.000Z\",\n\t\t\t\"value\": 33\n\t\t},\n\t\t{\n\t\t\t\"date\": \"2015-06-30T07:00:00.000Z\",\n\t\t\t\"value\": 17\n\t\t},\n\t\t{\n\t\t\t\"date\": \"2015-07-01T07:00:00.000Z\",\n\t\t\t\"value\": 17\n\t\t},\n\t\t{\n\t\t\t\"date\": \"2015-07-02T07:00:00.000Z\",\n\t\t\t\"value\": 16\n\t\t},\n\t\t{\n\t\t\t\"date\": \"2015-07-03T07:00:00.000Z\",\n\t\t\t\"value\": 8\n\t\t},\n\t\t{\n\t\t\t\"date\": \"2015-07-04T07:00:00.000Z\",\n\t\t\t\"value\": 14\n\t\t},\n\t\t{\n\t\t\t\"date\": \"2015-07-05T07:00:00.000Z\",\n\t\t\t\"value\": 11\n\t\t},\n\t\t{\n\t\t\t\"date\": \"2015-07-06T07:00:00.000Z\",\n\t\t\t\"value\": 14\n\t\t},\n\t\t{\n\t\t\t\"date\": \"2015-07-07T07:00:00.000Z\",\n\t\t\t\"value\": 25\n\t\t},\n\t\t{\n\t\t\t\"date\": \"2015-07-08T07:00:00.000Z\",\n\t\t\t\"value\": 55\n\t\t},\n\t\t{\n\t\t\t\"date\": \"2015-07-09T07:00:00.000Z\",\n\t\t\t\"value\": 15\n\t\t},\n\t\t{\n\t\t\t\"date\": \"2015-07-10T07:00:00.000Z\",\n\t\t\t\"value\": 26\n\t\t},\n\t\t{\n\t\t\t\"date\": \"2015-07-11T07:00:00.000Z\",\n\t\t\t\"value\": 21\n\t\t},\n\t\t{\n\t\t\t\"date\": \"2015-07-12T07:00:00.000Z\",\n\t\t\t\"value\": 16\n\t\t},\n\t\t{\n\t\t\t\"date\": \"2015-07-13T07:00:00.000Z\",\n\t\t\t\"value\": 20\n\t\t},\n\t\t{\n\t\t\t\"date\": \"2015-07-14T07:00:00.000Z\",\n\t\t\t\"value\": 26\n\t\t},\n\t\t{\n\t\t\t\"date\": \"2015-07-15T07:00:00.000Z\",\n\t\t\t\"value\": 24\n\t\t},\n\t\t{\n\t\t\t\"date\": \"2015-07-16T07:00:00.000Z\",\n\t\t\t\"value\": 29\n\t\t},\n\t\t{\n\t\t\t\"date\": \"2015-07-17T07:00:00.000Z\",\n\t\t\t\"value\": 12\n\t\t},\n\t\t{\n\t\t\t\"date\": \"2015-07-18T07:00:00.000Z\",\n\t\t\t\"value\": 16\n\t\t},\n\t\t{\n\t\t\t\"date\": \"2015-07-19T07:00:00.000Z\",\n\t\t\t\"value\": 11\n\t\t},\n\t\t{\n\t\t\t\"date\": \"2015-07-20T07:00:00.000Z\",\n\t\t\t\"value\": 29\n\t\t},\n\t\t{\n\t\t\t\"date\": \"2015-07-21T07:00:00.000Z\",\n\t\t\t\"value\": 9\n\t\t},\n\t\t{\n\t\t\t\"date\": \"2015-07-22T07:00:00.000Z\",\n\t\t\t\"value\": 26\n\t\t},\n\t\t{\n\t\t\t\"date\": \"2015-07-23T07:00:00.000Z\",\n\t\t\t\"value\": 21\n\t\t},\n\t\t{\n\t\t\t\"date\": \"2015-07-24T07:00:00.000Z\",\n\t\t\t\"value\": 18\n\t\t},\n\t\t{\n\t\t\t\"date\": \"2015-07-25T07:00:00.000Z\",\n\t\t\t\"value\": 15\n\t\t},\n\t\t{\n\t\t\t\"date\": \"2015-07-26T07:00:00.000Z\",\n\t\t\t\"value\": 23\n\t\t},\n\t\t{\n\t\t\t\"date\": \"2015-07-27T07:00:00.000Z\",\n\t\t\t\"value\": 43\n\t\t},\n\t\t{\n\t\t\t\"date\": \"2015-07-28T07:00:00.000Z\",\n\t\t\t\"value\": 44\n\t\t},\n\t\t{\n\t\t\t\"date\": \"2015-07-29T07:00:00.000Z\",\n\t\t\t\"value\": 67\n\t\t},\n\t\t{\n\t\t\t\"date\": \"2015-07-30T07:00:00.000Z\",\n\t\t\t\"value\": 67\n\t\t},\n\t\t{\n\t\t\t\"date\": \"2015-07-31T07:00:00.000Z\",\n\t\t\t\"value\": 0\n\t\t},\n\t\t{\n\t\t\t\"date\": \"2015-08-01T07:00:00.000Z\",\n\t\t\t\"value\": 0\n\t\t},\n\t\t{\n\t\t\t\"date\": \"2015-08-02T07:00:00.000Z\",\n\t\t\t\"value\": 0\n\t\t}\n\t]\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.0.5.4@json-loader!./test/json/brushData.json\n// module id = 36\n// module chunks = 1"],"sourceRoot":""}